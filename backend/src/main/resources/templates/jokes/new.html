<!DOCTYPE html>
<html lang="en"
      xmlns:th="http://www.thymeleaf.org"
      xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout"
      layout:decorator="layout">
	<body>
		<div class="container" layout:fragment="content">
			<form action="#" th:action="@{/new}" th:object="${jokeForm}" method="post">
				<div class="form-group">
					<label>Joke</label>
					<textarea class="form-control" th:field="*{content}"></textarea>
					<p th:if="${#fields.hasErrors('content')}" th:errors="*{content}">Content Error</p>
				</div>
				<div class="form-group">
					<label>Category</label>
					<select class="form-control" th:field="*{category}">
						<option th:each="cat: ${categories}" th:value="${{cat}}" th:text="${cat.name}"></option>
					</select> 
					<p th:if="${#fields.hasErrors('category')}" th:errors="*{category}">Category Error</p>
				</div>
				<div class="form-group">
					<button type="submit" class="btn btn-dark">Create</button>
				</div>
			</form>
		</div>
	</body>
</html>